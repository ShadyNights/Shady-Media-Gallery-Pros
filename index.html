<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Advanced Photo & Video Gallery with AI-powered search, mood engine, offline support, and eye-tracking navigation" />
  <meta name="theme-color" content="#4361ee" />
  <title>Shady Media Gallery Pro</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“¸</text></svg>" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/mood-styles.css" />
  <link rel="stylesheet" href="css/eye-tracking-styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <div id="loadingScreen" class="loading-screen">
    <div class="spinner"></div>
    <p>Loading Gallery...</p>
  </div>
  <div id="app" class="app-container" style="display: none;">
    <header>
      <h1>
        <i class="fas fa-camera-retro logo"></i>
        Shady Media Gallery Pro
      </h1>
      <nav>
        <button id="themeBtn" class="icon-btn" aria-label="Toggle theme" title="Cycle Theme (T)">
          <i class="fas fa-moon"></i>
        </button>
        <button id="soundBtn" class="icon-btn" aria-label="Toggle sounds" title="Toggle Sounds (S)">
          <i class="fas fa-volume-up"></i>
        </button>
        <button id="viewModeBtn" class="icon-btn" aria-label="Toggle view" title="Toggle View (V)">
          <i class="fas fa-th"></i>
        </button>
        <button id="eyeTrackingBtn" class="icon-btn" aria-label="Eye tracking" title="Eye Tracking (E)">
          <i class="fas fa-eye"></i>
        </button>
        <button id="moodPlaylistsBtn" class="icon-btn" aria-label="Mood playlists" title="Mood Playlists">
          <i class="fas fa-list-ul"></i>
        </button>
        <button id="bulkSelectBtn" class="icon-btn" aria-label="Bulk select" title="Bulk Select Mode">
          <i class="fas fa-check-square"></i>
        </button>
        <button id="settingsBtn" class="icon-btn" aria-label="Settings" title="Settings (G)">
          <i class="fas fa-cog"></i>
        </button>
      </nav>
    </header>
    <section class="search-section">
      <div class="search-container">
        <input type="search" id="searchInput" placeholder="Search photos & videos... (Press / to focus)" aria-label="Search media" />
        <button id="clearSearch" class="clear-btn" style="display: none;" aria-label="Clear search">
          <i class="fas fa-times"></i>
        </button>
        <div id="autocomplete" class="autocomplete hidden"></div>
      </div>
      <div class="controls">
        <select id="typeFilter" aria-label="Media type">
          <option value="both">Both</option>
          <option value="photo">Photos</option>
          <option value="video">Videos</option>
        </select>
        <select id="sortFilter" aria-label="Sort by">
          <option value="relevant">Relevant</option>
          <option value="latest">Latest</option>
          <option value="popular">Popular</option>
        </select>
        <input type="date" id="dateFrom" aria-label="From date" />
        <input type="date" id="dateTo" aria-label="To date" />
        <button id="clearDates" class="btn-secondary">
          <i class="fas fa-times-circle"></i> Clear Dates
        </button>
      </div>
    </section>
    <div id="trendingTags" class="trending-tags"></div>
    <div id="bulkActionsBar" class="bulk-actions-bar hidden">
      <div class="bulk-info">
        <i class="fas fa-check-circle"></i>
        <span id="selectedCount">0</span> items selected
      </div>
      <div class="bulk-buttons">
        <button id="selectAllBtn" class="btn-secondary">
          <i class="fas fa-check-double"></i> Select All
        </button>
        <button id="deselectAllBtn" class="btn-secondary">
          <i class="fas fa-times-circle"></i> Deselect All
        </button>
        <button id="bulkDownloadBtn" class="btn-primary">
          <i class="fas fa-download"></i> Download Selected
        </button>
        <button id="exitBulkMode" class="btn-secondary">
          <i class="fas fa-sign-out-alt"></i> Exit
        </button>
      </div>
    </div>
    <div class="tabs">
      <button class="tab-btn active" data-tab="all">All Media <span id="allCount" class="badge">0</span></button>
      <button class="tab-btn" data-tab="favorites">Favorites <span id="favCount" class="badge">0</span></button>
      <button class="tab-btn" data-tab="history">History <span id="historyCount" class="badge">0</span></button>
    </div>
    <div id="skeletonLoader" class="skeleton-grid hidden">
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
    </div>
    <main id="gallery" class="gallery"></main>
    <div id="infiniteScrollTrigger" class="infinite-scroll-trigger"></div>
    <div id="lightbox" class="lightbox hidden" role="dialog" aria-modal="true" aria-label="Media viewer">
      <div class="lightbox-backdrop"></div>
      <div class="lightbox-content">
        <button id="closeLightbox" class="lightbox-btn close-btn" aria-label="Close lightbox">
          <i class="fas fa-times"></i>
        </button>
        <button id="prevMedia" class="lightbox-btn nav-btn prev-btn" aria-label="Previous">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button id="nextMedia" class="lightbox-btn nav-btn next-btn" aria-label="Next">
          <i class="fas fa-chevron-right"></i>
        </button>
        <div id="mediaContainer" class="media-container"></div>
        <div class="lightbox-info">
          <h3 id="mediaTitle"></h3>
          <p id="mediaDescription"></p>
        </div>
        <div class="lightbox-actions">
          <button id="toggleFavBtn" class="action-btn" aria-label="Toggle favorite">
            <span class="icon"><i class="fas fa-heart"></i></span>
            <span class="label">Favorite</span>
          </button>
          <button id="downloadBtn" class="action-btn" aria-label="Download">
            <span class="icon"><i class="fas fa-download"></i></span>
            <span class="label">Download</span>
          </button>
          <button id="shareBtn" class="action-btn" aria-label="Share">
            <span class="icon"><i class="fas fa-share-alt"></i></span>
            <span class="label">Share</span>
          </button>
          <button id="fullscreenBtn" class="action-btn" aria-label="Fullscreen">
            <span class="icon"><i class="fas fa-expand"></i></span>
            <span class="label">Fullscreen</span>
          </button>
          <button id="slideshowBtn" class="action-btn" aria-label="Toggle slideshow">
            <span class="icon"><i class="fas fa-play"></i></span>
            <span class="label">Slideshow</span>
          </button>
        </div>
        <div id="downloadProgress" class="download-progress hidden">
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <span id="progressText" class="progress-text">0%</span>
        </div>
      </div>
    </div>
    <div id="settingsPanel" class="settings-panel hidden">
      <div class="settings-content">
        <div class="settings-header">
          <h2><i class="fas fa-cog"></i> Settings</h2>
          <button id="closeSettings" class="settings-close-btn" aria-label="Close settings">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="settings-group">
          <h3><i class="fas fa-desktop"></i> Display</h3>
          <label class="setting-item">
            <input type="checkbox" id="autoplayToggle" checked />
            <i class="fas fa-play-circle"></i>
            <span>Autoplay Videos</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="blurNsfwToggle" />
            <i class="fas fa-eye-slash"></i>
            <span>Blur NSFW Content</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="compactModeToggle" />
            <i class="fas fa-compress"></i>
            <span>Compact Mode</span>
          </label>
        </div>
        <div class="settings-group">
          <h3><i class="fas fa-universal-access"></i> Accessibility</h3>
          <label class="setting-item">
            <i class="fas fa-text-height"></i>
            <span>Font Size:</span>
            <select id="fontSizeSelect">
              <option value="small">Small</option>
              <option value="medium" selected>Medium</option>
              <option value="large">Large</option>
              <option value="xlarge">Extra Large</option>
            </select>
          </label>
        </div>
        <div class="settings-group">
          <h3><i class="fas fa-sliders-h"></i> Behavior</h3>
          <label class="setting-item">
            <input type="checkbox" id="infiniteScrollToggle" checked />
            <i class="fas fa-arrows-alt-v"></i>
            <span>Infinite Scroll</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="autoThemeToggle" />
            <i class="fas fa-adjust"></i>
            <span>Auto Dark Mode (6 PM - 6 AM)</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="offlineCacheToggle" checked />
            <i class="fas fa-wifi"></i>
            <span>Offline Cache</span>
          </label>
        </div>
        <div class="settings-group">
          <h3><i class="fas fa-database"></i> Data Management</h3>
          <button id="resetFavorites" class="btn-secondary">
            <i class="fas fa-trash-alt"></i> Clear Favorites
          </button>
          <button id="resetHistory" class="btn-secondary">
            <i class="fas fa-history"></i> Clear History
          </button>
          <button id="exportData" class="btn-primary">
            <i class="fas fa-file-export"></i> Export Data
          </button>
          <button id="importData" class="btn-primary">
            <i class="fas fa-file-import"></i> Import Data
          </button>
        </div>
        <div class="settings-group">
          <h3><i class="fas fa-info-circle"></i> Storage Info</h3>
          <p id="storageInfo">Calculating...</p>
        </div>
      </div>
    </div>
    <div id="contextMenu" class="context-menu hidden">
      <button data-action="favorite">
        <i class="fas fa-heart"></i> Add to Favorites
      </button>
      <button data-action="download">
        <i class="fas fa-download"></i> Download
      </button>
      <button data-action="share">
        <i class="fas fa-share-alt"></i> Share
      </button>
      <button data-action="open">
        <i class="fas fa-external-link-alt"></i> Open Original
      </button>
      <button data-action="copy">
        <i class="fas fa-copy"></i> Copy Link
      </button>
      <button data-action="delete">
        <i class="fas fa-trash-alt"></i> Delete
      </button>
    </div>
    <div id="toastContainer" class="toast-container"></div>
    <button id="scrollTopBtn" class="scroll-top-btn hidden" aria-label="Scroll to top" title="Scroll to Top (H)">
      <i class="fas fa-arrow-up"></i>
    </button>
  </div>
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/api.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/gallery.js"></script>
  <script src="js/lightbox.js"></script>
  <script src="js/shortcuts.js"></script>
  <script src="js/mood-engine.js"></script>
  <script src="js/mood-playlists.js"></script>
  <script src="js/mood-ui.js"></script>
  <script src="js/ai-analyzer.js"></script>
  <script src="js/offline-manager.js"></script>
  <script src="https://webgazer.cs.brown.edu/webgazer.js"></script>
  <script src="js/eye-tracking.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
